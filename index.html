<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Дні народження</title>
</head>
<body>
  <!-- afterbegin -->
    <h1>Колись тут буде класний сайт з днями народження!</h1>
    <p>(тест)</p>
  <!-- beforeend -->
</body>
<script type='text/javascript'>    
async function getAndShow() {
  await displayData(getData())
}

async function getData() {
  const url =
    'https://docs.google.com/spreadsheets/d/e/2PACX-1vTy4CbcRFa6kC088Z4jrVKVk3QPjJ7uU6j4S_5ukmGfPVJLe_aIKPo4tiyALxrIV6ee8Br5GT-yyKuj/pub?output=csv';
  const response = await fetch(url);
  const result = await response.text();
	const splittedResult = result.split("\r\n");
	const rejoinedResult = splittedResult.join();
	const FinalResult = rejoinedResult.split(",");
  return FinalResult;
}

async function displayData(data) {
  const dataLength = length(data);
  let i = 0;
  const dataDiv = document.createElement("div");
  while (i < dataLength){
    let dataToInsert = document.createTextNode(data[i]);
    dataDiv.appendChild(dataToInsert);
    i++;
  }
  document.body.insertAdjacentElement("beforeend", dataDiv);
}

getAndShow();
</script>
</html>